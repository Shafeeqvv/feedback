<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MAF Employee FeedBack</title>
    <link rel="stylesheet" type="text/css" href="asset/style.css">
</head>
<body>
    <div class="container">
        <div class="survey-header">
            <div class="logo"><img src="asset/logo1.png" style="width:70px;height:auto;"></div>
            <h1>Employee Feedback Survey</h1>
            <p><b>Your feedback helps us create a better workplace environment for everyone.</b></p>
            <p><i>*Your feedback is confidential, and your identity will not be shared. Please be honest in your review*</i></p>
        </div>

        <div class="progress-bar">
            <div class="progress-bar-fill" id="progress-fill"></div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <div class="tab active" data-tab="1">Job Satisfaction</div>
            <div class="tab" data-tab="2">Work Environment</div>
            <div class="tab" data-tab="3">Department Review</div>
            <div class="tab" data-tab="4">Growth & Development</div>
        </div>

        <form id="employee-survey" action="" method="POST">
            <!-- Section 1: Job Satisfaction -->
            <div class="survey-section" id="section-1">
                <h2 class="section-title">Job Satisfaction</h2>
                <!-- your original content unchanged -->
                <div class="form-group">
                    <label>How satisfied are you with your current role?</label>
                    <div class="rating-scale">
                        <div class="rating-option">
                            <input type="radio" id="satisfaction-1" name="Job_Role_Satisfaction_Rate" value="1" required>
                            <label for="satisfaction-1">
                                <div class="rating-circle">1</div>
                                <div class="rating-text">Very Poor</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="satisfaction-2" name="Job_Role_Satisfaction_Rate" value="2">
                            <label for="satisfaction-2">
                                <div class="rating-circle">2</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="satisfaction-3" name="Job_Role_Satisfaction_Rate" value="3">
                            <label for="satisfaction-3">
                                <div class="rating-circle">3</div>
                                <div class="rating-text">Average</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="satisfaction-4" name="Job_Role_Satisfaction_Rate" value="4">
                            <label for="satisfaction-4">
                                <div class="rating-circle">4</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="satisfaction-5" name="Job_Role_Satisfaction_Rate" value="5">
                            <label for="satisfaction-5">
                                <div class="rating-circle">5</div>
                                <div class="rating-text">Excellent</div>
                            </label>
                        </div>
                    </div>
                    <div class="error-message" id="role-satisfaction-error">Please rate your satisfaction</div>
                </div>
                
                <div class="form-group">
                    <label>How would you rate your work-life balance?</label>
                    <div class="rating-scale">
                        <div class="rating-option">
                            <input type="radio" id="balance-1" name="Work_Life_Balance_Rate" value="1" required>
                            <label for="balance-1">
                                <div class="rating-circle">1</div>
                                <div class="rating-text">Very Poor</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="balance-2" name="Work_Life_Balance_Rate" value="2">
                            <label for="balance-2">
                                <div class="rating-circle">2</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="balance-3" name="Work_Life_Balance_Rate" value="3">
                            <label for="balance-3">
                                <div class="rating-circle">3</div>
                                <div class="rating-text">Average</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="balance-4" name="Work_Life_Balance_Rate" value="4">
                            <label for="balance-4">
                                <div class="rating-circle">4</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="balance-5" name="Work_Life_Balance_Rate" value="5">
                            <label for="balance-5">
                                <div class="rating-circle">5</div>
                                <div class="rating-text">Excellent</div>
                            </label>
                        </div>
                    </div>
                    <div class="error-message" id="work-life-balance-error">Please rate your work-life balance</div>
                </div>
                
                <div class="form-group">
                    <label>What aspects of your job do you enjoy the most? (Select all that apply)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-team" name="Job_enjoyment[]" value="team">
                            <label for="enjoy-team">Working with my team</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-work" name="Job_enjoyment[]" value="work">
                            <label for="enjoy-work">The work itself</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-learning" name="Job_enjoyment[]" value="learning">
                            <label for="enjoy-learning">Learning opportunities</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-impact" name="Job_enjoyment[]" value="impact">
                            <label for="enjoy-impact">Making an impact</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-autonomy" name="Job_enjoyment[]" value="autonomy">
                            <label for="enjoy-autonomy">Autonomy</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="enjoy-compensation" name="Job_enjoyment[]" value="compensation">
                            <label for="enjoy-compensation">Compensation & benefits</label>
                        </div>
                    </div>
                </div>
                
                <div class="button-group" style="justify-content: end;">
                    <button type="button" class="btn btn-primary"  id="btn-section-1">Next</button>
                </div>
            </div>

            <!-- Section 2: Work Environment -->
            <div class="survey-section" id="section-2">
                <h2 class="section-title">Work Environment</h2>
                <!-- unchanged original work environment HTML -->
                <div class="form-group">
                    <label>How would you rate our company culture?</label>
                    <div class="rating-scale">
                        <div class="rating-option">
                            <input type="radio" id="culture-1" name="Company_Culture_Rate" value="1" required>
                            <label for="culture-1">
                                <div class="rating-circle">1</div>
                                <div class="rating-text">Very Poor</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="culture-2" name="Company_Culture_Rate" value="2">
                            <label for="culture-2">
                                <div class="rating-circle">2</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="culture-3" name="Company_Culture_Rate" value="3">
                            <label for="culture-3">
                                <div class="rating-circle">3</div>
                                <div class="rating-text">Average</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="culture-4" name="Company_Culture_Rate" value="4">
                            <label for="culture-4">
                                <div class="rating-circle">4</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="culture-5" name="Company_Culture_Rate" value="5">
                            <label for="culture-5">
                                <div class="rating-circle">5</div>
                                <div class="rating-text">Excellent</div>
                            </label>
                        </div>
                    </div>
                    <div class="error-message" id="company-culture-error">Please rate our company culture</div>
                </div>

                <div class="form-group">
                    <label>Do you feel your contributions are recognized and valued?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="recognition-yes" name="Contributions_are_recognized_and_Valued" value="yes" required>
                            <label for="recognition-yes">Yes, regularly</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="recognition-sometimes" name="Contributions_are_recognized_and_Valued" value="sometimes">
                            <label for="recognition-sometimes">Sometimes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="recognition-rarely" name="Contributions_are_recognized_and_Valued" value="rarely">
                            <label for="recognition-rarely">Rarely</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="recognition-no" name="Contributions_are_recognized_and_Valued" value="no">
                            <label for="recognition-no">No, not at all</label>
                        </div>
                    </div>
                    <div class="error-message" id="recognition-error">Please select an option</div>
                </div>

                <div class="form-group">
                    <label for="culture-improvement">What is one thing we could improve about our company culture?</label>
                    <textarea id="culture-improvement" name="Company_Culture_Improvement" placeholder="Share your thoughts..."></textarea>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="btn-back-section-2">Previous</button>
                    <button type="button" class="btn btn-primary" id="btn-section-2">Next</button>
                </div>
            </div>

            <!-- Section 3: Department Review -->
            <div class="survey-section" id="section-3">
                <h2 class="section-title">Department Review</h2>
                <!-- unchanged original department review HTML -->
                <div class="form-group">
                    <label>Is there any comment on HR & Admin Department?</label>
                    <textarea name="HR_Admin_Department_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any comment on Accounts Department?</label>
                    <textarea name="Accounts_Department_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any comment on Management</label>
                    <textarea name="Management_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any comment on Operations Department?</label>
                    <textarea name="Operations_Department_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any comment on IT Department?</label>
                    <textarea name="IT_Department_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any comment on Other Department?</label>
                    <textarea name="Other_Department_Comment" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Is there any challenges with Employees?</label>
                    <textarea name="Employee_challenges" placeholder="Share your thoughts..."></textarea>
                </div>
                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="btn-back-section-3">Previous</button>
                    <button type="button" class="btn btn-primary" id="btn-section-3">Next</button>
                </div>
            </div>

            <!-- Section 4: Growth & Development -->
            <div class="survey-section" id="section-4">
                <h2 class="section-title">Growth & Development</h2>
                <!-- unchanged original growth HTML -->
                <div class="form-group">
                    <label>How satisfied are you with the Learning and development opportunities available to you?</label>
                    <div class="rating-scale">
                        <div class="rating-option">
                            <input type="radio" id="development-1" name="Learning_and_development_opportunities" value="1" required>
                            <label for="development-1">
                                <div class="rating-circle">1</div>
                                <div class="rating-text">Very Poor</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="development-2" name="Learning_and_development_opportunities" value="2">
                            <label for="development-2">
                                <div class="rating-circle">2</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="development-3" name="Learning_and_development_opportunities" value="3">
                            <label for="development-3">
                                <div class="rating-circle">3</div>
                                <div class="rating-text">Average</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="development-4" name="Learning_and_development_opportunities" value="4">
                            <label for="development-4">
                                <div class="rating-circle">4</div>
                            </label>
                        </div>
                        <div class="rating-option">
                            <input type="radio" id="development-5" name="Learning_and_development_opportunities" value="5">
                            <label for="development-5">
                                <div class="rating-circle">5</div>
                                <div class="rating-text">Excellent</div>
                            </label>
                        </div>
                    </div>
                    <div class="error-message" id="development-opportunities-error">Please rate your satisfaction with development opportunities</div>
                </div>

                <div class="form-group">
                    <label for="skills-development">Other Comments</label>
                    <textarea id="skills-development" name="Other_Comments" placeholder="Describe..."></textarea>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="btn-back-section-4">Previous</button>
                    <input type="submit" class="btn btn-submit">Submit Survey</button>
                </div>

                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_subject" value="New Employee Survey Submission">
            </div>
        </form>
    </div>
    <script src="asset/script.js"></script>
    <script>
document.getElementById('employee-survey').addEventListener('submit', function(e) {
    e.preventDefault();

    // Collect all form data
    let formData = new FormData(this);

    // Handle checkboxes (Job enjoyment)
    let enjoymentList = Array.from(document.querySelectorAll('input[name="Job_enjoyment[]"]:checked'))
                             .map(cb => cb.nextElementSibling.innerText.trim())
                             .join(', ') || 'None';

    // Build HTML table
    let tableHTML = `
    <html>
    <head>
        <style>
            table { border-collapse: collapse; width: 100%; }
            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
        </style>
    </head>
    <body>
        <h2>New Employee Survey Submission</h2>
        <table>
            <tr><th>Question</th><th>Answer</th></tr>
            <tr><td>How satisfied are you with your current role?</td><td>${formData.get('Job_Role_Satisfaction_Rate') || 'N/A'}</td></tr>
            <tr><td>How would you rate your work-life balance?</td><td>${formData.get('Work_Life_Balance_Rate') || 'N/A'}</td></tr>
            <tr><td>What aspects of your job do you enjoy the most?</td><td>${enjoymentList}</td></tr>
            <tr><td>How would you rate our company culture?</td><td>${formData.get('Company_Culture_Rate') || 'N/A'}</td></tr>
            <tr><td>Do you feel your contributions are recognized and valued?</td><td>${formData.get('Contributions_are_recognized_and_Valued') || 'N/A'}</td></tr>
            <tr><td>What is one thing we could improve about our company culture?</td><td>${formData.get('Company_Culture_Improvement') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on HR & Admin Department?</td><td>${formData.get('HR_Admin_Department_Comment') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on Accounts Department?</td><td>${formData.get('Accounts_Department_Comment') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on Management?</td><td>${formData.get('Management_Comment') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on Operations Department?</td><td>${formData.get('Operations_Department_Comment') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on IT Department?</td><td>${formData.get('IT_Department_Comment') || 'N/A'}</td></tr>
            <tr><td>Is there any comment on Other Department?</td><td>${formData.get('Other_Department_Comment') || 'N/A'}</td></tr>
            <tr><td>Challenges with Employees</td><td>${formData.get('Employee_challenges') || 'N/A'}</td></tr>
            <tr><td>Other Comments</td><td>${formData.get('Other_Comments') || 'N/A'}</td></tr>
            <tr><td>Learning & Development Satisfaction</td><td>${formData.get('Learning_and_development_opportunities') || 'N/A'}</td></tr>
        </table>
    </body>
    </html>
    `;

    // Add HTML table to FormSubmit
    formData.append('message', tableHTML);
    formData.append('_captcha', 'false');
    formData.append('_subject', 'New Employee Survey Submission');

    // Send via AJAX
    fetch("https://formsubmit.co/ajax/shafeeqsharafi@gmail.com", {
        method: "POST",
        body: formData
    })
    .then(response => {
        if (response.ok) {
            document.querySelector('.container').innerHTML = `
                <div style="color: green; font-weight: bold; text-align: center; margin-top: 50px;">
                    ✅ Feedback submitted successfully!
                </div>
            `;
        } else {
            alert("❌ Error sending survey. Please try again later.");
        }
    })
    .catch(error => {
        console.error("Error:", error);
        alert("❌ Could not send your feedback. Check your internet connection.");
    });
});
</script>
</body>
</html>